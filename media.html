<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Media | FOFBC</title>
	<link rel="stylesheet" href="media-styles.css">
</head>
<body>

	<div id="background"></div>

	<header>
		<div class="logo">Family of Faith Bible Church</div>
		<nav>
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="sermons.html">Sermons</a></li>
				<li><a href="schedules.html">Schedules</a></li>
				<li><a href="media.html">Media</a></li>
				<li><a href="about.html">About</a></li>
				<li><a href="contact.html">Contact</a></li>
			</ul>
		</nav>
	</header>

	<main>
		<section id="home" class="hero">
			<h1>Welcome to Family of Faith Bible Church</h1>
			<p>3 John 1:2 | "Beloved, I wish above all things that thou mayest prosper and be in health,
			even as thy soul prospereth"</p>
		</section>

		<section class="theme-tile-card">
			<div class="tile-card">
				<div class="card-content">
					<h2><strong>2025 Theme:</strong></h2>
					<p><strong>"Divine Opportunities (Kairos)"</strong></p>
					<a href="theme-details.html" class="learn-more-btn">Learn More</a>
				</div>
			</div>
		</section>

		<br>
		<section class="theme-tile-card">
			<div class="tile-card">
				<div class="card-content">
					<p><strong>Hosea 2:3</strong> | "For the vision is yet for an appointed time, but at the end it shall speak, and not lie: though it tarry, wait for it; because it will surely come, it will not tarry."</p>
				</div>
			</div>
		</section>

		<section class="media">
			<h2>Media Gallery</h2>

			<div class="media-category">
				<h3>Images</h3>
				<div class="media-grid">
					<div class="media-item">
						<img src="media/images/3musk.jpg" alt="[from left] Phyllis, Isaac and Kobby celebrating New Year 2025" class="expandable-image" onclick="openModal(this)">
						<p class="caption">[from left] Phyllis, Isaac and Kobby celebrating New Year 2025</p>
						<a href="media/images/3musk.jpg" download="3musk" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/miley.jpg" alt="Sister Millicent forever grateful to God for entering the New Year 2025" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Sister Millicent forever grateful to God for entering the New Year 2025</p>
						<a href="media/images/miley.jpg" download="miley" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/group-photo.jpg" alt="Group Photo on New Year's Day 2025" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Group Photo on New Year's Day 2025</p>
						<a href="media/images/group-photo.jpg" download="group-photo" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/kevin.jpg" alt="Kevin on New Year's Day 2025" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Kevin on New Year's Day 2025</p>
						<a href="media/images/kevin.jpg" download="kevin" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/bella.jpg" alt="Stephanie [left] and Bella [right] on New Year's Day 2025" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Stephanie [left] and Bella [right] on New Year's Day 2025</p>
						<a href="media/images/bella.jpg" download="stephie-n-bella" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/bg-image1.jpg" alt="Mummy and Daddy on New Year's Day 2024" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Mummy and Daddy on New Year's Day 2024</p>
						<a href="media/images/bg-image1.jpg" download="mummy-n-daddy" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/ludo.jpg" alt="Ludo competition on New Year's Day 2025" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Ludo competition on New Year's Day 2025</p>
						<a href="media/images/ludo.jpg" download="ludo" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/mr-baidoo.jpg" alt="Mr. Samuel Baidoo" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Mr. Samuel Baidoo</p>
						<a href="media/images/mr-baidoo.jpg" download="mr-baidoo" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/mama-regina.jpg" alt="Mama Regina's first photo for 2025" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Mama Regina's first photo for 2025</p>
						<a href="media/images/mama-regina.jpg" download="mama-regina" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/mummy-n-daddy.jpg" alt="Mummy and Daddy" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Mummy and Daddy</p>
						<a href="media/images/mummy-n-daddy.jpg" download="mummy-n-daddy" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/award1.jpg" alt="An Award Ceremony Held" class="expandable-image" onclick="openModal(this)">
						<p class="caption">An Award Ceremony Held</p>
						<a href="media/images/award1.jpg" download="award1" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/award2.jpg" alt="Our dear Sister, Millicent bagging hers successfully." class="expandable-image" onclick="openModal(this)">
						<p class="caption">Our dear Sister, Millicent bagging hers successfully.</p>
						<a href="media/images/award2.jpg" download="award2" class="download-btn">Download</a>
					</div>
					<div class="media-item">
						<img src="media/images/old-timers.jpg" alt="The Genesis - Where it all began" class="expandable-image" onclick="openModal(this)">
						<p class="caption">The Genesis - Where it all began</p>
						<a href="media/images/old-timers.jpg" download="genesis" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/ps-ofori-graduation1.jpg" alt="Ps. Ofori's Graduation Ceremony" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Ps. Ofori's Graduation Ceremony</p>
						<a href="media/images/ps-ofori-graduation1.jpg" download="ps-ofori-1" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/ps-ofori-graduation2.jpg" alt="[left] Another Perspective on Ps. Ofori's Graduation Day" class="expandable-image" onclick="openModal(this)">
						<p class="caption">[left] Another Perspective on Ps. Ofori's Graduation Day</p>
						<a href="media/images/ps-ofori-graduation2.jpg" download="ps-ofori-2" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/ps-ofori-graduation3.jpg" alt="[from left to right] A Warm Congratulations on Ps. Ofori and Rev. Dr. Asante Krobea's Graduation Day" class="expandable-image" onclick="openModal(this)">
						<p class="caption">[from left to right] A Warm Congratulations on Ps. Ofori and Rev. Dr. Asante Krobea's Graduation Day</p>
						<a href="media/images/ps-ofori-graduation3.jpg" download="ps-ofori-3" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/mummy-week2.jpg" alt="Our Mummy on week 2 in 2025" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Our Mummy on week 2 in 2025</p>
						<a href="media/images/mummy-week2.jpg" download="mummy-week2" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/safie-limelight.jpg" alt="Miss. Safie trying to avoid the limelight" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Miss. Safie trying to avoid the limelight</p>
						<a href="media/images/safie-limelight.jpg" download="safie-limelight" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/phyllis-regina.jpg" alt="Mama Regina [left] and Sister Phyllis [main] posing for the camera" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Mama Regina [left] and Sister Phyllis [main] posing for the camera</p>
						<a href="media/images/phyllis-regina.jpg" download="phyllis-regina" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/edudzi.jpg" alt="Our brother, Edudzi, decided to join the gallery too" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Our brother, Edudzi, decided to join the gallery too</p>
						<a href="media/images/edudzi.jpg" download="edudzi" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/phyllis-happy.jpg" alt="Sister Phyllis is always cheerful" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Sister Phyllis is always cheerful</p>
						<a href="media/images/phyllis-happy.jpg" download="phyllis-happy" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/mr-pongo-keyboard.jpg" alt="Mr. Pongo displaying behind the keyboard" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Mr. Pongo displaying behind the keyboard</p>
						<a href="media/images/mr-pongo-keyboard.jpg" download="mr-pongo-keyboard" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/safie-unaware.jpg" alt="She allowed this unaware" class="expandable-image" onclick="openModal(this)">
						<p class="caption">She allowed this unaware</p>
						<a href="media/images/safie-unaware.jpg" download="safie-unaware" class="download-btn">Download</a>
					</div>

					<div class="media-item">
						<img src="media/images/mama-lydia.jpg" alt="Mama Lydia" class="expandable-image" onclick="openModal(this)">
						<p class="caption">Mama Lydia</p>
						<a href="media/images/mama-lydia.jpg" download="mama-lydia" class="download-btn">Download</a>
					</div>
				</div>

				<br>
				<div class="comments-section">
					<h2 class="comments-header">Leave a comment</h2>

					<form id="commentForm">
						<input type="text" id="name" placeholder="Your name" required>
						<textarea id="comment" placeholder="Write your comment..." required></textarea>
						<button type="submit">Comment</button>
					</form>

					<div id="commentSection"></div>
				</div>

			<div id="imageModal" class="modal">
				<span class="close" onclick="closeModal()">&times;</span>
				<img class="modal-content" id="modalImage">
				<div id="caption"></div>
			</div>

			<div class="media-category">
				<h3>Videos</h3>
				<div class="media-grid">
					<div class="media-item" onclick="openVideoModal(this)" controls>
						<video controls>
							<source src="media/videos/video1.mp4" type="video/mp4">Your browser does not support the video tag</video>
						<p class="caption">Video Unavailable</p>
						<a href="media/videos/video1.mp4" download="video1" class="download-btn">Download</a>
					</div>
					<div class="media-item" onclick="openVideoModal(this)" controls>
						<video controls>
							<source src="media/videos/glorious-singers.mp4" type="video/mp4">Your browser does not support the video tag</video>
						<p class="caption">Glorious Singers' Debut Performance</p>
						<a href="media/videos/glorious-singers.mp4" download="glorious-singers-debut" class="download-btn">Download</a>
					</div>
					<div class="media-item" onclick="openVideoModal(this)" controls>
						<video controls>
							<source src="media/videos/video3.mp4" type="video/mp4">Your browser does not support the video tag</video>
						<p class="caption">A Birthday Celebration</p>
						<a href="media/videos/video3.mp4" download="video3" class="download-btn">Download</a>
					</div>
				</div>
			</div>

			<div id="videoModal" class="modal">
				<span class="close" onclick="openVideoModal()">&times;</span>
				<video class="modal-content" id="modalVideo" controls></video>
			</div>
		</section>

		<br>
		<section class="theme-tile-card">
			<div class="tile-card">
				<div class="card-content">
					<p><strong>Hosea 2:3</strong> | "For the vision is yet for an appointed time, but at the end it shall speak, and not lie: though it tarry, wait for it; because it will surely come, it will not tarry."</p>
				</div>
			</div>
		</section>

		<footer>
			<p>&copy; 2025 Family of Faith Bible Church. All Rights Reserved!</p>
		</footer>

		<script src="script.js"></script>
		<script src="effectpack.js"></script>

		<script type= module>
			import {initializeApp} from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
			import {getAnalytics} from "https://www.gstatic.com/firebasejs/11.2.0/firebase-analytics.js";

			const firebaseConfig = {
				apiKey: "AIzaSyDbnsSasx1twZwDGOlgJ5cSD_aPlHIVyQA",
				authDomain: "fofbc-comments-section.firebaseapp.com",
				databaseURL: "https://fofbc-comments-section-default-trdb.firebaseio.com",
				projectId: "fofbc-comments-section",
				storageBucket: "fofbc-comments-section.firebasestorage.app",
				messagingSenderId: "824733885969",
				appId: "1:824733885969:web:ac3cb1bcd3307f060733b0",
				measurementId: "G-HCTJBP9R0R"
			};

			const app = initializeApp(firebaseConfig);
			//const db = firebase.database();
			const analytics = getAnalytics(app);

			const db = firebase.firestore();
			const commentsCollection = db.collection("comments");

			const commentForm = document.getElementById("commentForm");
			const commentSection = document.getElementById("commentSection");

			commentForm.addEventListener("submit", function(e) {
				e.preventDefault();

				const name = document.getElementById("name").value;
				const commentText = getElementById("comment").value;

				if(name && commentText){
					const comment = {
						name: name,
						text: commentText,
						timestamp: new Date(),
					};

					commentsCollection.add(comment).then(() => {
						commentForm.reset();
					});
				}
			});

			function displayComments(){
				commentsCollection.orderBy("timestamp", "desc").get().then(snapshot => {
					commentSection.innerHTML = "";

					snapshot.forEach(doc => {
						const commentData = doc.data();
						const commentId = doc.id;

						const commentDiv = document.createElement("div");
						commentDiv.classList.add("comment");

						const timestamp = Date(commentData.timestamp.seconds * 1000);
						const timeStr = `${timestamp.toLocaleDateString()} ${timestamp.toLocaleTimeString()}`;

						commentDiv.innerHTML = `<div class="comment-author">${commentData.name}</div>
						<div class="comment-text">${commentData.text}</div>
						<div class="timestamp">${timeStr}</div>
						<button class="deleteComment('${commentId}')">Delete</button>`;

						commentSection.appendChild(commentDiv);
					});
				});
			}

			function deleteComment(commentId) {
				commentsCollection.doc(commentId).delete().then(() => {
					displayComments();
				});
			}

			displayComments();

			//Enabling offine data persistence - not necessary but need to be sure. Can be wiped if any issues arise
			firebase.firestore().enablePersistence().catch((err) => {
				if(err.code == 'failed-precondition') {
					console.log("Persistence failed: multiple tabs open");
				} else if(err.code == 'unimplemented') {
					console.log("Persistence is not available at the moment");
				}
			});
		</script>

		<!--<script>
			const form = document.getElementById("commentForm");
			const commentSection = document.getElementById("commentSection");

			let userId = localStorage.getItem("userId");
			if(!userId) {
				userId = "user-" + Math.random().toString(36).substr(2,9);
				localStorage.setItem("userId", userId)
			}

			form.addEventListener("submit", function(e) {
				e.preventDefault();

				const name = document.getElementById("name").value;
				const comment = document.getElementById("comment").value;
				const timestamp = new Date().toLocaleString();

				const commentDiv = document.createElement("div");
				commentDiv.classList.add("comment");

				const author = document.createElement("p");
				author.classList.add("comment-author");
				author.textContent = name;

				const timestampElement = document.createElement("p");
				timestampElement.classList.add("comment-timestamp");
				timestampElement.textContent = `Posted on: ${timestamp}`;

				const commentText = document.createElement("p");
				commentText.classList.add("comment-text");
				commentText.textContent = comment;

				const deleteButton = document.createElement("button");
				deleteButton.textContent = "Delete";
				deleteButton.classList.add("delete-btn");

				commentDiv.dataset.userId = userId;

				deleteButton.addEventListener("click", function() {
					if(commentDiv.dataset.userId === userId) {
						commentDiv.remove();
					} else{
						alert("You can only delete your own comments!");
					}
				});

				commentDiv.appendChild(author);
				commentDiv.appendChild(timestampElement);
				commentDiv.appendChild(commentText);
				commentDiv.appendChild(deleteButton);
				commentSection.appendChild(commentDiv);

				form.reset();
			});
		</script>

		<script>
			document.getElementById("commentForm").addEventListener("submit", function(event) {
				event.preventDefault();

				let name = document.getElementById("name").value;
				let comment = document.getElementById("comment").value;

				if(name && comment) {
					db.ref("comments").push({
						name: name,
						comment: comment;
						timestamp: Date.now()
					});

					document.getElementById("commentForm").reset();
				}
			});

			db.ref("comments").orderByChild("timestamp").on("child_added", function(snapshot) {
				let data = snapshot.val();

				let commentDiv = document.createElement("div");
				commentDiv.innerHTML = `<strong>${data.name}: </strong> ${data.comment}`;

				document.getElementById("commentSection").appendChild(commentDiv);
			});
		</script>-->
		<!--<button id="backToTop" title="Go to top">Go to Top</button>-->
</body>
</html>